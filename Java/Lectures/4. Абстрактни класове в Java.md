# Абстракция, Интерфейси и Полиморфизъм в Java

## 1. Абстрактни класове

Абстрактен клас съдържа абстрактни методи (без тяло) и/или конкретни методи.

---

### 1.1 Деклариране

```java
public abstract class AbstractClassExample {
    public void someMethod() { }
    public abstract void firstAbstractMethod();
}
```

- `abstract` метод няма тяло.
- Ако клас има поне един абстрактен метод → трябва да е `abstract`.

---

### 1.2 Наследяване

```java
abstract class Figure {
    public abstract double area(float a, float b);
}

class Triangle extends Figure {
    @Override
    public double area(float a, float b) { return a * b / 2; }
}

class Rectangle extends Figure {
    @Override
    public double area(float a, float b) { return a * b; }
}
```

- Подкласът **трябва** да имплементира всички абстрактни методи, освен ако и той не е `abstract`.
- Абстрактен клас **не може да се инстанцира**.

---

## 2. Интерфейси

Интерфейсът дефинира поведение чрез абстрактни методи. От Java 8 може да има и `default` методи.

---

### 2.1 Деклариране

```java
public interface FirstInterface {
    void method1();
    void method2();
}
```

- Всички методи са по подразбиране `public abstract`.

---

### 2.2 Имплементация

```java
public class XYZ implements FirstInterface {
    public void method1() { System.out.println("method1"); }
    public void method2() { System.out.println("method2"); }

    public static void main(String[] args) {
        FirstInterface obj = new XYZ();
        obj.method1();
    }
}
```

- Клас използва `implements`.
- Интерфейс **не може да се инстанцира**.
- Клас може да имплементира **няколко** интерфейса.

---

### 2.3 Интерфейси с променливи

```java
interface Try {
    int a = 10; // public static final по подразбиране
}
```

- Променливите в интерфейс са винаги `public static final` и изискват инициализация.

---

### 2.4 Наследяване на интерфейси

```java
interface A { void method1(); }
interface B extends A { void method2(); }

class Demo implements B {
    public void method1() { }
    public void method2() { }
}
```

- Интерфейс може да наследи друг интерфейс чрез `extends`.

---

### 2.5 Конфликти

```java
interface A { void aaa(); }
interface B { int aaa(); } // Грешка при имплементация

// class C implements A, B {} → НЕвалидно!
```

- Интерфейси с методи със **същото име, но различен тип** не могат да се имплементират заедно.

---

## 3. Полиморфизъм

- Един интерфейс → различни реализации.
- Позволява обекти с различен тип да реагират по различен начин на едно и също съобщение (метод).

```java
Figure f1 = new Triangle();
Figure f2 = new Rectangle();
System.out.println(f1.area(4, 5)); // 10.0
System.out.println(f2.area(4, 5)); // 20.0
```

- `area()` е общият интерфейс, а всяка фигура го реализира различно.
